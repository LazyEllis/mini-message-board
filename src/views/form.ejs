<%- include("partials/header", { title: "New Message | Mini Message Board", styles: ["form", "alert"] }) %>

<h1>Send a Message</h1>
<main>
  <% if (locals.errors) { %>
    <div class="alert">
      <div class="alert-title">There was a problem submitting your form:</div>
      <ul class="alert-list">
        <% errors.forEach((error) => { %>
          <li><%= error.msg %></li>
        <% }) %>
      </ul>
    </div>
  <% } %>

  <form action="/new" method="POST">
    <div class="form-group">
      <label for="author">Name</label>
        <input type="text" name="author" id="author" value="<%= locals.data?.author || ''%>" required>
    </div>

    <div class="form-group">
      <label for="content">Message</label>
        <input type="text" name="content" id="content" value="<%= locals.data?.content || ''%>" required>
    </div>

    <button type="submit">Send</button>
  </form>
</main>

<%- include("partials/footer") %>
